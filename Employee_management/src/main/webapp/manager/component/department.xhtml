<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Department List</title>
    </h:head>
    <h:body>
        <f:view>
            <h:form>
                <h2>Add New Asset</h2>

                <h:outputLabel for="DepartmentName" value="Department Name:" />
                <h:inputText id="DepartmentName" value="#{managerBeans.deptName}" required="true" />


                <h:outputLabel for="deptDesc" value="Dept desc" />
                <h:inputText id="deptDesc" value="#{managerBeans.deptDesc}" required="true" />


                <h:outputLabel value="Manager" />
                <h:selectOneMenu value="#{managerBeans.managerId}">
                    <f:selectItem itemLabel="Select Department" itemValue="" noSelectionOption="true" />
                    <f:selectItems value="#{managerBeans.usersList}" var="User"
                                   itemValue="#{User.userId}" itemLabel="#{User.userName}" />
                </h:selectOneMenu>

                <h:commandButton value="Add Department" action="#{managerBeans.addDepartment}" />

                <hr/>
            </h:form>
        </f:view>

        <h:form>
            <h2>Department List</h2>
            <h:dataTable value="#{managerBeans.departmentList}" var="dept" border="1">
                <h:column>
                    <f:facet name="header">Department Id</f:facet>
                        #{dept.deptId}
                </h:column>
                <h:column>
                    <f:facet name="header">Department Name</f:facet>
                        #{dept.deptName}
                </h:column>
                <h:column>
                    <f:facet name="header">Description</f:facet>
                        #{dept.description}
                </h:column>
                <h:column>
                    <f:facet name="header">User Name</f:facet>
                    #{dept.managerId.userName} <!-- Update this if managerId is an object -->
                </h:column>
            </h:dataTable>
        </h:form>
    </h:body>
</html>
